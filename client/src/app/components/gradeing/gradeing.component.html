<div class="row mt-3 d-flex flex-row flex-wrap nowrap">
  <div class="dropdown">
    <button
      class="hydrantDropdown text-muted"
      type="button"
      hydrantDropdown
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      Assignment <i class="fa-solid fa-chalkboard-user"></i>
    </button>
    <ul class="dropdown-menu">
      <li *ngFor="let assignment of assignmentNumbers">
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            value="assignment"
            id="{{ 'assignmentCheckbox-' + assignment }}"
            (click)="filterAssignments(assignment)"
            [checked]="selectedAssignment === assignment"
          />
          <label
            (click)="filterAssignments(assignment); $event.stopPropagation()"
            class="form-check-label text-muted"
            for="assignmentCheckbox"
          >
            Assignment {{ assignment }}
          </label>
        </div>
      </li>
    </ul>
    <button
      class="hydrantDropdown text-muted"
      type="button"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      Graded <i class="fa-solid fa-graduation-cap"></i>
    </button>
    <ul class="dropdown-menu">
      <li>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="checkbox1"
          />
          <label class="form-check-label" for="checkbox1"> No </label>
        </div>
      </li>
      <li>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="checkbox2"
          />
          <label class="form-check-label" for="checkbox2"> Yes </label>
        </div>
      </li>
    </ul>
    <button
      class="hydrantDropdown text-muted"
      type="button"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      Date <i class="fa-solid fa-clock"></i>
    </button>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#">Action</a></li>
      <li><a class="dropdown-item" href="#">Another action</a></li>
      <li><a class="dropdown-item" href="#">Something else here</a></li>
    </ul>
  </div>
  <div class="dropdown"></div>
</div>
<div class="row">
  <div class="form-outline mt-2">
    <input
      type="search"
      id="form1"
      class="form-control"
      placeholder="Search..."
      aria-label="Search"
      [(ngModel)]="searchText"
      (input)="onSearchTextChanged()"
    />
  </div>
</div>
<div class="row mt-3">
  <div class="col-12 text-muted">
    <div *ngIf="gradeingSubmission">
      <ng-container
        *ngIf="gradeingSubmission.Submissions.length > 0; else noSubmissions"
      >
        <ngb-accordion #submissionAccordion="ngbAccordion">
          <ngb-panel *ngFor="let submission of gradeingSubmission.Submissions">
            <ng-template ngbPanelTitle>
              <div class="titleAccordion">
                <span
                  >Assignment {{ gradeingSubmission.Assignment }} - Group
                  {{ submission.groupid }}</span
                >
              </div>
            </ng-template>
            <ng-template ngbPanelContent>
              <div class="row text-muted">
                <div class="col-md-2">
                  <p class="header">Test Result</p>
                  <p>{{ submission.grade || "Not yet graded" }}</p>
                </div>
                <div class="col-md-2">
                  <p class="header">Time Submitted</p>
                  <p>2023-04-01 at 23:49</p>
                </div>
                <div class="col-md-3">
                  <p class="header">Files submitted</p>
                  <p
                    style="
                      text-decoration: underline;
                      cursor: pointer;
                      margin-bottom: 5px;
                    "
                  >
                    DAT111_Assignment2.py
                  </p>
                  <p
                    style="
                      text-decoration: underline;
                      cursor: pointer;
                      margin-bottom: 5px;
                    "
                  >
                    DAT111_Assignment2.pdf
                  </p>
                  <p
                    style="
                      text-decoration: underline;
                      cursor: pointer;
                      margin-bottom: 5px;
                    "
                  >
                    DAT111_Assignment2.txt
                  </p>
                </div>
                <div class="col-md-5">
                  <p class="header">Leave a comment</p>
                  <textarea
                    class="form-control"
                    placeholder="Leave a comment here"
                    id="comments"
                    style="height: 175px"
                    [(ngModel)]="commentText"
                  ></textarea>
                </div>
              </div>
              <div class="row mt-2 justify-content-end">
                <div class="col-md-3">
                  <button
                    style="float: right"
                    class="btn btn-primary"
                    (click)="
                      setSubmissionGrade(
                        submission,
                        gradeingSubmission.Assignment,
                        true
                      )
                    "
                  >
                    Pass
                  </button>
                  <button
                    style="float: right; margin-right: 5px"
                    class="btn btn-danger"
                    (click)="
                      setSubmissionGrade(
                        submission,
                        gradeingSubmission.Assignment,
                        false
                      )
                    "
                  >
                    Fail
                  </button>
                </div>
              </div>
            </ng-template>
          </ngb-panel>
        </ngb-accordion>
      </ng-container>
    </div>
  </div>
</div>
<ng-template #noSubmissions>
  <p>No assignments found.</p>
</ng-template>
